<!-- navbar -->
<header class="sticky top-0">
  <div
    class="container mx-auto w-full bg-slate-100 border-b-2 border-solid border-sky-200 shadow"
  >
    <nav class="" x-data="{mobileMenuOpen : false}">
      <div class="mx-auto px-4">
        <div class="flex justify-between">
          <div class="flex space-x-7">
            <!-- logo -->
            <div class="">
              <a href="/" class="flex items-center py-4 px-2">
                <!-- TODO: Add Logo -->
                <span class="font-medium text-lg text-cordovan"
                  >everything<span class="font-bold">WE</span></span
                >
              </a>
            </div>
            <!-- primary navbar -->
            <div class="hidden md:flex items-center space-x-1">
              <a href="/" :class="<%=home%>?'nav-active':'nav-inactive'"
                >Home</a
              >
              <a
                href="/wishlist"
                :class="<%=wishlist%>?'nav-active':'nav-inactive'"
                >Wishlist</a
              >
              <a
                href="/history"
                :class="<%=history%>?'nav-active':'nav-inactive'"
                >About Us</a
              >
              <a href="/faq" :class="<%=faq%>?'nav-active':'nav-inactive'"
                >FAQ</a
              >
            </div>
          </div>
          <!-- secondary navbar -->
          <% if(isLoggedIn){ %>
          <div
            class="hidden relative md:flex items-center"
            x-data="{loggedInMenu : false}"
          >
            <button
              @click="loggedInMenu = !loggedInMenu"
              @keydown.escape="isLoggedMenu=false"
              class="px-2 py-2 flex items-center"
            >
              <!-- bx user-circle -->
              <svg
                class="fill-cordovan w-10 h-10"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828 18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z"
                ></path>
              </svg>
            </button>

            <!-- loggedIn Menu -->
            <ul
              x-show="loggedInMenu"
              @click.away="loggedInMenu = false"
              x-transition:enter="transition ease-out duration-100 transform"
              x-transition:enter-start="opacity-0 scale-95"
              x-transition:enter-end="opacity-100 scale-100"
              x-transition:leave="transition ease-in duration-75 transform"
              x-transition:leave-start="opacity-100 scale-100"
              x-transition:leave-end="opacity-0 scale-95"
              class="loggedInMenu absolute mt-2 py-2 w-48 z-20 font-normal bg-white shadow overflo-hidden rounded top-12 right-2 divide-y divide-gray-100"
            >
              <li class="hover:bg-gray-200">
                <a
                  href="/update-home"
                  class="text-gray-700 px-4 py-2 text-base flex items-center"
                >
                  <!-- boxicon bx bx-user -->
                  <svg
                    class="w-7 h-7 mr-3"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"
                    ></path>
                  </svg>
                  Change Home
                </a>
              </li>
              <li class="hover:bg-gray-200">
                <a
                  href="/logout"
                  class="text-gray-700 px-4 py-2 text-base flex items-center"
                >
                  <!-- boxicon bx bx-log-out -->
                  <svg
                    class="w-7 h-7 mr-3"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                  >
                    <path d="M16 13v-2H7V8l-5 4 5 4v-3z"></path>
                    <path
                      d="M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"
                    ></path>
                  </svg>
                  Logout
                </a>
              </li>
            </ul>
          </div>

          <% } else{ %>
          <div class="hidden md:flex items-center space-x-3">
            <a
              href="/login"
              class="py-2 px-2 text-cordovan hover:bg-cordovan hover:text-pale-pink transition duration-300 font-semibold"
              >Sign In</a
            >
            <a
              href="https://my.forms.app/phudinachai/everything-we-registration"
              class="py-2 px-2 text-cordovan bg-pale-pink hover:bg-cordovan hover:text-pale-pink transition duration-300 font-semibold"
              >Sign Up</a
            >
          </div>
          <% } %>

          <!-- mobile menubar button -->
          <div class="md:hidden flex items-center">
            <button
              @click="mobileMenuOpen = !mobileMenuOpen"
              @click.away="mobileMenuOpen = false"
              class="outline-none mobile-menu-button"
            >
              <i
                :class="mobileMenuOpen?'bx-x':'bx-menu'"
                x-transition:enter="transition duration-200 ease-out"
                x-transition:enter-start="opacity-0 scale-95"
                x-transition:enter-end="opacity-100 scale-100"
                x-transition:leave="transition duration-100 ease-in"
                x-transition:leave-start="opacity-100 scale-100"
                x-transition:leave-end="opacity-0 scale-95"
                class="bx bx-md"
              ></i>
            </button>
          </div>
        </div>
      </div>
      <!-- mobile menu -->
      <div
        x-show="mobileMenuOpen"
        x-transition:enter="transition ease-out duration-100 transform"
        x-transition:enter-start="opacity-0 scale-95"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-75 transform"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-95"
        class="mobile-menu block relative z-30 border-t-2 border-cordovan/80"
      >
        <ul class="">
          <li class="mobile-active">
            <a href="/" class="block text-lg py-2 text-center">Home</a>
          </li>
          <li class="">
            <a href="/wishlist" class="block text-lg py-2 text-center"
              >Wishlist</a
            >
          </li>
          <li class="">
            <a href="/history" class="block text-lg py-2 text-center"
              >About Us</a
            >
          </li>
          <li class="">
            <a href="/faq" class="block text-lg py-2 text-center">FAQ</a>
          </li>
          <% if(isLoggedIn){ %>
          <li class="">
            <a href="/update-home" class="block text-lg py-2 text-center"
              >Update Home</a
            >
          </li>
          <li class="">
            <a href="/logout" class="block text-lg py-2 text-center">Logout</a>
          </li>
          <% } else { %>
          <li class="">
            <a href="/login" class="block text-lg py-2 text-center">Sign In</a>
          </li>
          <li class="">
            <a
              href="https://my.forms.app/phudinachai/everything-we-registration"
              class="block text-lg py-2 text-center"
              >Sign UP</a
            >
          </li>
          <% } %>
        </ul>
      </div>
    </nav>
  </div>
</header>
